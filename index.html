<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Redirecting to WhatsApp...</title>
    <script>
        function decryptNumber(encrypted) {
            return atob(encrypted); // Base64 डिकोडिंग
        }

        function getStoredNumberIndex() {
            let storedTime = localStorage.getItem("numberTimestamp");
            let storedIndex = localStorage.getItem("numberIndex");
            let currentTime = Date.now();

            // अगर 1 मिनट (60000 ms) से ज्यादा हो गया है, तो नया नंबर चुनें
            if (!storedTime || currentTime - storedTime > 60000) {
                let newIndex = Math.floor(Math.random() * encryptedNumbers.length);
                localStorage.setItem("numberIndex", newIndex);
                localStorage.setItem("numberTimestamp", currentTime);
                return newIndex;
            }

            // नहीं तो पुराना नंबर ही दोबारा दें
            return storedIndex;
        }

        function updateTimer() {
            let storedTime = localStorage.getItem("numberTimestamp");
            let currentTime = Date.now();
            let timePassed = currentTime - storedTime;
            let timeLeft = 60000 - timePassed; // 1 मिनट (60000 ms)

            if (timeLeft <= 0) {
                document.getElementById("timer").innerText = "00:00";
                location.reload(); // नया नंबर लेने के लिए पेज रीफ्रेश करें
            } else {
                let minutes = Math.floor(timeLeft / 60000);
                let seconds = Math.floor((timeLeft % 60000) / 1000);
                document.getElementById("timer").innerText = 
                    (minutes < 10 ? "0" : "") + minutes + ":" + 
                    (seconds < 10 ? "0" : "") + seconds;

                setTimeout(updateTimer, 1000);
            }
        }

        function redirectToWhatsApp() {
            // एन्क्रिप्टेड नंबर (Base64)
            var encryptedNumbers = [
                "OTE2Mzc1MDI1NTgx",
                "OTE5NTgxNTg4MDE5",
                "OTE4MjYxOTM1NzIz",
                "OTE5ODU1NzMwODM4",
                "OTE5NTg1NzQyNDUx",
                "OTE4MTkwOTgzOTk2",
                "OTE5NzQ4OTE4MTY1",
                "OTE5ODYxNTA0NzYx",
                "OTE5ODg4MDE1MzA2",
                "OTE3Mjg5MDYzNzg3"
            ];

            // 1 मिनट के लिए फिक्स रहने वाला नंबर चुनना
            var index = getStoredNumberIndex();
            var selectedNumber = decryptNumber(encryptedNumbers[index]);

            // WhatsApp लिंक जनरेट करना
            var whatsappLink = "https://wa.me/" + selectedNumber;

            // लिंक को बटन में सेट करना
            document.getElementById("whatsappLink").href = whatsappLink;
            document.getElementById("whatsappLink").innerText = "WhatsApp पर जाएं";
            
            // टाइमर शुरू करें
            updateTimer();
        }
    </script>
</head>
<body onload="redirectToWhatsApp()">
    <h2>अगला नंबर बदलने में बचा समय:</h2>
    <h1 id="timer">01:00</h1>
    <a id="whatsappLink" href="#" style="font-size: 20px; text-decoration: none; background-color: green; color: white; padding: 10px 20px; border-radius: 5px;">WhatsApp पर जाएं</a>
</body>
</html>
